{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug kube-apiserver",
      "type": "go",
      "request": "launch",
      "mode": "exec",  // 关键：指定 mode 为 exec
      "program": "${workspaceFolder}/_output/local/go/bin/kube-apiserver",
      "args": [
        "--etcd-servers=http://127.0.0.1:2379",
        "--service-cluster-ip-range=10.0.0.0/24",
        "--bind-address=127.0.0.1",
        "--secure-port=6443",
        "--tls-cert-file=/tmp/k8s-debug/server.crt",
        "--tls-private-key-file=/tmp/k8s-debug/server.key",
        "--client-ca-file=/tmp/k8s-debug/ca.crt",
        "--authorization-mode=AlwaysAllow",
        "--service-account-key-file=/tmp/k8s-debug/sa.key",
        "--service-account-signing-key-file=/tmp/k8s-debug/sa.key",
        "--service-account-issuer=https://kubernetes.default.svc",
        "--allow-privileged=true",
        "-v=4"
      ]
    }
  ]
}
